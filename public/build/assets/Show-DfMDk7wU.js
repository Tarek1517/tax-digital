import{n as O,f as C,g as R,h as U,w as S,l as $,m as l,o as D,b as t,t as a,y as F,j as V,B as M,p as T,a as A,d as L,k as q,r as z}from"./app-xhtSDAkj.js";import{_ as E}from"./GuestLayout-DvzFnd1-.js";const G={class:"container mx-auto p-6"},H={class:"bg-white shadow-md rounded-lg p-6 mx-auto"},I={class:"text-2xl font-bold text-gray-800 mb-4"},J={class:"flex flex-col md:flex-row gap-6"},K={class:"w-full md:w-1/3 mt-3"},Q=["src","alt"],W={class:"w-full md:w-2/3"},X={class:"grid grid-cols-1 gap-2"},Y=t("h2",{class:"text-xl font-bold text-primary border-b border-primary/55 mb-4 pb-2"}," Order Details ",-1),Z={class:"flex justify-between"},tt=t("span",{class:"font-medium text-gray-600"},"Package Name:",-1),st={class:"text-gray-800"},et={class:"flex justify-between"},at=t("span",{class:"font-medium text-gray-600"},"Order Code:",-1),ot={class:"text-gray-800"},dt={class:"flex justify-between"},nt=t("span",{class:"font-medium text-gray-600"},"Company Name:",-1),rt={class:"text-gray-800"},lt={class:"flex justify-between"},ct=t("span",{class:"font-medium text-gray-600"},"Customer Name:",-1),it={class:"text-gray-800"},_t={class:"flex justify-between"},ut=t("span",{class:"font-medium text-gray-600"},"Customer Phone:",-1),mt={class:"text-gray-800"},pt={class:"flex justify-between"},ht=t("span",{class:"font-medium text-gray-600"},"Customer Email:",-1),ft={class:"text-gray-800"},xt={class:"flex justify-between"},yt=t("span",{class:"font-medium text-gray-600"},"Order Status:",-1),gt={class:"flex justify-between"},vt=t("span",{class:"font-medium text-gray-600"},"Total Payment:",-1),bt={class:"text-gray-800"},wt={class:"flex justify-between"},kt=t("span",{class:"font-medium text-gray-600"},"Payment Method:",-1),jt={class:"text-gray-800"},Ct={class:"flex items-center space-x-4 mt-3"},St={class:"flex-1"},Nt=t("label",{for:"order_status",class:"block text-sm font-medium text-primary mb-1"}," Update Status ",-1),Pt=t("option",{value:"pending"},"Pending",-1),Bt=t("option",{value:"accept"},"Accept",-1),Ot=[Pt,Bt],Rt={class:"mt-6 flex justify-end gap-4"},Ft={__name:"Show",setup(Ut){const N=q(),r=$(),{sendRequest:c}=O(),s=C(null),n=C({order_status:"pending"}),P=async o=>{var e;try{const d=await c({method:"get",url:`/v1/orders/${o}`});d&&(s.value=(e=d.data)==null?void 0:e.data,n.value.order_status=s.value.order_status||"pending")}catch(d){console.error("Failed to fetch order details:",d),l.error("Failed to load order details",{autoclose:2e3,theme:"dark"})}},B=async o=>{try{const e=await c({method:"post",url:`/v1/orders/${o}`,data:n.value,params:{_method:"PUT"}});e!=null&&e.data&&(l.success("Status Updated Successfully",{autoclose:1e3,theme:"dark"}),await N.push(`/admin/order-details/${r.params.id}`))}catch(e){console.error("Failed to update order status:",e),l.error("Failed to update status",{autoclose:2e3,theme:"dark"})}};return R(()=>{const o=r.params.id;P(o)}),(o,e)=>{const d=z("RouterLink");return D(),U(E,null,{default:S(()=>{var i,_,u,m,p,h,f,x,y,g,v,b,w,k;return[t("div",G,[t("div",H,[t("h2",I," Order No: "+a((i=s.value)==null?void 0:i.id),1),t("div",J,[t("div",K,[t("img",{class:"w-full h-auto rounded-lg shadow-md",src:(u=(_=s.value)==null?void 0:_.packages)==null?void 0:u.image,alt:(m=s.value)==null?void 0:m.package_name},null,8,Q)]),t("div",W,[t("div",X,[Y,t("div",Z,[tt,t("span",st,a((p=s.value)==null?void 0:p.package_name),1)]),t("div",et,[at,t("span",ot,a((h=s.value)==null?void 0:h.order_code),1)]),t("div",dt,[nt,t("span",rt,a((f=s.value)==null?void 0:f.companey_name),1)]),t("div",lt,[ct,t("span",it,a((x=s.value)==null?void 0:x.cus_name),1)]),t("div",_t,[ut,t("span",mt,a((y=s.value)==null?void 0:y.cus_phone),1)]),t("div",pt,[ht,t("span",ft,a((g=s.value)==null?void 0:g.cus_email),1)]),t("div",xt,[yt,t("span",{class:F(["px-2 py-1 text-sm rounded-lg font-semibold",((v=s.value)==null?void 0:v.order_status)==="accept"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},a((b=s.value)==null?void 0:b.order_status),3)]),t("div",gt,[vt,t("span",bt,"Â£"+a((w=s.value)==null?void 0:w.total_payment),1)]),t("div",wt,[kt,t("span",jt,a((k=s.value)==null?void 0:k.payment_method),1)]),t("div",Ct,[t("div",St,[Nt,V(t("select",{id:"order_status","onUpdate:modelValue":e[0]||(e[0]=j=>n.value.order_status=j),class:"block w-full rounded-md border-secondary/55 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},Ot,512),[[M,n.value.order_status]])]),t("button",{onClick:e[1]||(e[1]=j=>B(T(r).params.id)),class:"rounded-md bg-secondary px-4 py-2 text-sm font-medium text-white hover:bg-primary mt-6"}," Update Status ")])])])]),t("div",Rt,[A(d,{to:"/admin/orders",class:"px-4 py-1 bg-secondary text-white rounded-lg hover:bg-primary"},{default:S(()=>[L(" Back ")]),_:1})])])])]}),_:1})}}};export{Ft as default};
