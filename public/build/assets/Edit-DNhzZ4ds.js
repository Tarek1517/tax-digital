import{n as h,f as x,g as b,h as w,w as p,o as y,b as t,j as P,v as V,a as _,p as k,d as C,k as U,l as B,m as N,r as T}from"./app-xhtSDAkj.js";import{S as $}from"./SummernoteEditor-BtoXx_gh.js";import{_ as R}from"./GuestLayout-DvzFnd1-.js";const S={class:"flex justify-center"},j={class:"w-full pr-1"},E={class:"p-4 shadow-lg rounded-lg"},M=t("h3",null,"Create New Page",-1),q={class:"mb-5"},A=t("label",{for:"title",class:"mb-1 block text-sm"},"Page Title",-1),D=t("label",{for:"summery",class:"mb-1 block text-sm"},"Page Content",-1),z={class:"editor_data"},F={class:"mt-5"},O={__name:"Edit",setup(G){const{error:H,loading:I,sendRequest:d}=h(),v=U(),n=B(),f=async()=>{var s,l,o,i,u,r,c,m;const a=await d({method:"get",url:`/v1/pages/${(s=n==null?void 0:n.params)==null?void 0:s.id}`});a&&(e.value=(l=a.data)==null?void 0:l.data,e.value.id=(i=(o=a.data)==null?void 0:o.data)==null?void 0:i.id,e.value.title=(r=(u=a.data)==null?void 0:u.data)==null?void 0:r.title,e.value.content=(m=(c=a.data)==null?void 0:c.data)==null?void 0:m.content)},e=x({id:null,title:null,content:""}),g=async a=>{await d({method:"post",url:`/v1/pages/${a}`,params:{_method:"PUT"},data:e.value})&&(N.success("Page Update Successfully",{autoClose:1e3}),v.push("/admin/pages"))};return b(()=>{f()}),(a,s)=>{const l=T("Button");return y(),w(R,null,{default:p(()=>[t("div",S,[t("div",j,[t("div",E,[M,t("div",q,[A,P(t("input",{id:"title",type:"text",class:"p-2 rounded-md border w-full","onUpdate:modelValue":s[0]||(s[0]=o=>e.value.title=o)},null,512),[[V,e.value.title]])]),t("div",null,[D,t("div",z,[_(k($),{modelValue:e.value.content,"onUpdate:modelValue":s[1]||(s[1]=o=>e.value.content=o)},null,8,["modelValue"])])]),t("div",F,[_(l,{onClick:s[2]||(s[2]=o=>g(e.value.id)),class:"w-full mx-auto bg-primary text-xl font-semibold py-3 text-white mt-8"},{default:p(()=>[C("Update Page")]),_:1})])])])])]),_:1})}}};export{O as default};
