import{n as I,f,g as R,h as b,w as j,o as p,b as e,j as n,v as c,s as x,c as h,a as g,p as y,k as B,l as N,m as T,r as w}from"./app-xhtSDAkj.js";import{_ as $}from"./GuestLayout-DvzFnd1-.js";import{S as D}from"./SummernoteEditor-BtoXx_gh.js";const E={class:"p-4 bg-white shadow-md max-w-3xl mx-auto"},L={class:"flex flex-wrap -mx-2"},M={class:"w-1/2 mb-5 px-2"},O={class:"flex flex-col gap-1"},q=e("label",{for:"title",class:"text-sm mb-2"},"Service Name",-1),z={class:"w-1/2 mb-5 px-2"},A={class:"flex flex-col gap-1"},P=e("label",{for:"title",class:"text-sm mb-2"},"Service Title",-1),F={class:"w-1/2 mb-5 px-2"},G={class:"flex flex-col gap-1"},H=e("label",{for:"number",class:"text-sm mb-2"},"Order Level",-1),J={class:"w-1/2 mb-5 px-2"},K=e("label",{for:"category",class:"text-sm mb-2"},"Select Catergory",-1),Q={class:"w-1/2 mb-5 px-2"},W={class:"flex flex-col gap-1"},X=e("label",{for:"number",class:"text-sm mb-2"},"Category Icon",-1),Y={class:"w-1/2 mb-5 px-2"},Z={class:"flex flex-col gap-1"},ee=e("label",{for:"number",class:"text-sm mb-2"},"Service Image",-1),te={class:"border border-primary border-dashed p-2 rounded-2xl flex items-center justify-center size-44 cursor-pointer"},se=["src"],oe={key:1,class:"flex flex-col items-center justify-center gap-2"},le=e("span",{class:"text-primary text-sm font-normal opacity-85"},"Upload Serviec Image",-1),ae={class:"w-full px-2 mb-5"},re=e("label",{for:"short_description",class:"text-sm mb-2 block"},"Short Description",-1),ie={class:"w-full px-2"},ne=e("label",{for:"description",class:"text-sm mb-2 block"},"Description",-1),ce={class:"editor_data"},de={class:"w-full mt-5 px-2"},xe={__name:"Edit",setup(ue){const{loading:me,error:pe,sendRequest:_}=I(),S=B(),d=N(),v=f(null),V=async()=>{const l=await _({url:"/all-category-list",method:"get"});l&&(v.value=l.data)},U=async()=>{var t,u,m,o,r,i;const l=await _({url:`/v1/service/${(t=d==null?void 0:d.params)==null?void 0:t.id}`,method:"get"});l&&(s.value=(u=l.data)==null?void 0:u.data,s.value.service_category_id=(o=(m=l.data)==null?void 0:m.data)==null?void 0:o.service_category_id,a.value=(i=(r=l.data)==null?void 0:r.data)==null?void 0:i.image,s.value.image=null)},a=f(null),s=f({service_category_id:null,name:null,title:null,image:null,icon:null,short_description:null,description:null,order_number:null,status:1}),k=l=>{const t=l.target.files[0];s.value.image=t,a.value=URL.createObjectURL(t)},C=async l=>{const t=await _({method:"post",url:`/v1/service/${l}`,data:s.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}});t!=null&&t.data&&(T.success("Service Updated Successfully",{autoclose:1e3,theme:"dark"}),await S.push("/admin/service"))};return R(()=>{U(),V()}),(l,t)=>{const u=w("Select"),m=w("Icon");return p(),b($,null,{default:j(()=>[e("div",E,[e("div",L,[e("div",M,[e("div",O,[q,n(e("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o)},null,512),[[c,s.value.name]])])]),e("div",z,[e("div",A,[P,n(e("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.title=o)},null,512),[[c,s.value.title]])])]),e("div",F,[e("div",G,[H,n(e("input",{type:"number",class:"input","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.order_level=o)},null,512),[[c,s.value.order_level]])])]),e("div",J,[K,v.value?(p(),b(u,{key:0,label:"name",options:v.value,reduce:o=>o.id,modelValue:s.value.service_category_id,"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.service_category_id=o),placeholder:"Select Category"},null,8,["options","reduce","modelValue"])):x("",!0)]),e("div",Q,[e("div",W,[X,n(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.icon=o),class:"w-full h-20 border border-primary focus:border-primary focus:ring-0 focus:shadow focus:shadow-primary"},null,512),[[c,s.value.icon]])])]),e("div",Y,[e("div",Z,[ee,e("label",te,[a.value?(p(),h("img",{key:0,src:a.value,class:"w-full h-full rounded-md"},null,8,se)):x("",!0),a.value?x("",!0):(p(),h("div",oe,[g(m,{name:"tabler:cloud-upload",class:"text-primary text-2xl opacity-85"}),le])),e("input",{id:"category-icon",onChange:k,type:"file",hidden:""},null,32)])])]),e("div",ae,[re,n(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.short_description=o),class:"w-full h-20 border border-primary focus:border-primary focus:ring-0 focus:shadow focus:shadow-primary"},null,512),[[c,s.value.short_description]])]),e("div",ie,[ne,e("div",ce,[g(y(D),{modelValue:s.value.description,"onUpdate:modelValue":t[6]||(t[6]=o=>s.value.description=o)},null,8,["modelValue"])])]),e("div",de,[e("button",{class:"w-full mx-auto bg-primary text-sm font-normal py-3 text-white",onClick:t[7]||(t[7]=o=>{var r,i;return C((i=(r=y(d))==null?void 0:r.params)==null?void 0:i.id)})}," Update Services ")])])])]),_:1})}}};export{xe as default};
