import{m as C,h as _,n as U,f as V,w as k,o as u,b as e,i,v as n,c as f,s as v,a as x,p as b,j as I,k as S,l as R,r as j}from"./app-Bci9npW4.js";import{_ as B}from"./GuestLayout-DOV2mUdA.js";import{S as N}from"./SummernoteEditor-BjDvEqd4.js";const T={class:"p-4 bg-white shadow-md max-w-3xl mx-auto"},$={class:"flex flex-wrap -mx-2"},D={class:"w-1/2 mb-5 px-2"},E={class:"flex flex-col gap-1"},L=e("label",{for:"title",class:"text-sm mb-2"},"Category Name",-1),M={class:"w-1/2 mb-5 px-2"},O={class:"flex flex-col gap-1"},q=e("label",{for:"title",class:"text-sm mb-2"},"Category Title",-1),z={class:"w-1/2 mb-5 px-2"},A={class:"flex flex-col gap-1"},P=e("label",{for:"number",class:"text-sm mb-2"},"Order Level",-1),F={class:"w-1/2 mb-5 px-2"},G={class:"flex flex-col gap-1"},H=e("label",{for:"number",class:"text-sm mb-2"},"Category Icon",-1),J={class:"w-1/2 mb-5 px-2"},K={class:"flex flex-col gap-1"},Q=e("label",{for:"number",class:"text-sm mb-2"},"Category Image",-1),W={class:"border border-primary border-dashed p-2 rounded-2xl flex items-center justify-center size-44 cursor-pointer"},X=["src"],Y={key:1,class:"flex flex-col items-center justify-center gap-2"},Z=e("span",{class:"text-primary text-sm font-normal opacity-85"},"Upload Serviec Image",-1),ee={class:"w-full px-2 mb-5"},te=e("label",{for:"short_description",class:"text-sm mb-2 block"},"Short Description",-1),se={class:"w-full px-2"},oe=e("label",{for:"description",class:"text-sm mb-2 block"},"Description",-1),le={class:"editor_data"},ae={class:"w-full mt-5 px-2"},me={__name:"Edit",setup(re){const{loading:ie,error:ne,sendRequest:m}=C(),h=I(),d=S(),y=async()=>{var t,c,o,r;const l=await m({url:`/v1/service-category/${(t=d==null?void 0:d.params)==null?void 0:t.id}`,method:"get"});l&&(s.value=(c=l.data)==null?void 0:c.data,a.value=(r=(o=l.data)==null?void 0:o.data)==null?void 0:r.image,s.value.image=null)},s=_({name:null,title:null,icon:null,image:null,short_description:null,description:null,order_level:null,status:1}),a=_(null),g=l=>{const t=l.target.files[0];s.value.image=t,a.value=URL.createObjectURL(t)},w=async l=>{const t=await m({method:"post",url:`/v1/service-category/${l}`,data:s.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}});t!=null&&t.data&&(R.success("Category Updated Successfully",{autoclose:1e3,theme:"dark"}),await h.push("/admin/service-category"))};return U(()=>{y()}),(l,t)=>{const c=j("Icon");return u(),V(B,null,{default:k(()=>[e("div",T,[e("div",$,[e("div",D,[e("div",E,[L,i(e("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o)},null,512),[[n,s.value.name]])])]),e("div",M,[e("div",O,[q,i(e("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.title=o)},null,512),[[n,s.value.title]])])]),e("div",z,[e("div",A,[P,i(e("input",{type:"number",class:"input","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.order_level=o)},null,512),[[n,s.value.order_level]])])]),e("div",F,[e("div",G,[H,i(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.icon=o),class:"w-full h-20 border border-primary focus:border-primary focus:ring-0 focus:shadow focus:shadow-primary"},null,512),[[n,s.value.icon]])])]),e("div",J,[e("div",K,[Q,e("label",W,[a.value?(u(),f("img",{key:0,src:a.value,class:"w-full h-full rounded-md"},null,8,X)):v("",!0),a.value?v("",!0):(u(),f("div",Y,[x(c,{name:"tabler:cloud-upload",class:"text-primary text-2xl opacity-85"}),Z])),e("input",{id:"category-icon",onChange:g,type:"file",hidden:""},null,32)])])]),e("div",ee,[te,i(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.short_description=o),class:"w-full h-20 border border-primary focus:border-primary focus:ring-0 focus:shadow focus:shadow-primary"},null,512),[[n,s.value.short_description]])]),e("div",se,[oe,e("div",le,[x(b(N),{modelValue:s.value.description,"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.description=o)},null,8,["modelValue"])])]),e("div",ae,[e("button",{class:"w-full mx-auto bg-primary text-sm font-normal py-3 text-white",onClick:t[6]||(t[6]=o=>{var r,p;return w((p=(r=b(d))==null?void 0:r.params)==null?void 0:p.id)})}," Update Category ")])])])]),_:1})}}};export{me as default};
