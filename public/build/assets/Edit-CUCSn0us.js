import{n as h,f as p,g as b,h as k,w,o as u,b as e,j as d,v as r,c as _,p as y,k as U,l as P,m as R}from"./app-xhtSDAkj.js";import{_ as T}from"./GuestLayout-DvzFnd1-.js";const V={class:"p-4 bg-white shadow-md me-4"},j={class:"flex flex-col items-center gap-5 my-12"},B=e("h2",{class:"text-xl font-semibold text-primary"}," Update Package ",-1),C={class:"w-1/2"},$={class:"flex flex-col gap-1"},L=e("label",{for:"title",class:"text-sm mb-2"},"Package Title ",-1),M={class:"w-1/2"},D={class:"flex flex-col gap-1"},E=e("label",{for:"number",class:"text-sm mb-2"},"Package Price",-1),I={class:"w-1/2"},O={class:"flex flex-col gap-1"},S=e("label",{for:"number",class:"text-sm mb-2"},"Order Level",-1),q={class:"w-1/2"},A={class:"flex flex-col gap-1"},N=e("label",{for:"text",class:"text-sm mb-2"},"Description",-1),z={class:"w-1/2"},F={class:"flex flex-col gap-1"},G={class:"pr-2"},H=e("label",{for:"image",class:"text-xs block mb-1"},"Image",-1),J={for:"image",class:"w-52 h-36 flex items-center justify-center gap-3 p-2 border border-dashed border-primary rounded-md text-primary cursor-pointer"},K=["src"],Q={key:1},W=e("p",{class:"text-xs"}," Upload Team Member Image ",-1),X=[W],Y={class:"w-1/2"},le={__name:"Edit",setup(Z){const{loading:ee,error:te,sendRequest:m}=h(),f=U(),n=P(),v=async()=>{var t,a,o,i;const l=await m({url:`/v1/package/${(t=n==null?void 0:n.params)==null?void 0:t.id}`,method:"get"});l&&(s.value=(a=l.data)==null?void 0:a.data,c.value=(i=(o=l.data)==null?void 0:o.data)==null?void 0:i.image,s.value.image=null)},s=p({title:null,price:null,image:null,description:null,order_level:null,status:1}),c=p(null),x=l=>{const t=l.target.files[0];s.value.image=t,c.value=URL.createObjectURL(t)},g=async l=>{const t=await m({method:"post",url:`/v1/package/${l}`,data:s.value,params:{_method:"PUT"},headers:{"Content-Type":"multipart/form-data"}});t!=null&&t.data&&(R.success("Package Updated Successfully",{autoclose:1e3,theme:"dark"}),await f.push("/admin/package"))};return b(()=>{v()}),(l,t)=>(u(),k(T,null,{default:w(()=>[e("div",V,[e("div",j,[B,e("div",C,[e("div",$,[L,d(e("input",{type:"text",class:"input","onUpdate:modelValue":t[0]||(t[0]=a=>s.value.title=a)},null,512),[[r,s.value.title]])])]),e("div",M,[e("div",D,[E,d(e("input",{type:"number",class:"input","onUpdate:modelValue":t[1]||(t[1]=a=>s.value.price=a)},null,512),[[r,s.value.price]])])]),e("div",I,[e("div",O,[S,d(e("input",{type:"number",class:"input","onUpdate:modelValue":t[2]||(t[2]=a=>s.value.order_level=a)},null,512),[[r,s.value.order_level]])])]),e("div",q,[e("div",A,[N,d(e("textarea",{class:"input h-40","onUpdate:modelValue":t[3]||(t[3]=a=>s.value.description=a)},null,512),[[r,s.value.description]])])]),e("div",z,[e("div",F,[e("div",G,[H,e("label",J,[e("input",{type:"file",id:"image",hidden:"",onChange:x},null,32),c.value?(u(),_("img",{key:0,src:c.value,class:"w-full h-full object-cover"},null,8,K)):(u(),_("div",Q,X))])])])]),e("div",Y,[e("button",{class:"w-full mx-auto bg-primary text-xl font-semibold py-3 text-white mt-8",onClick:t[4]||(t[4]=a=>{var o,i;return g((i=(o=y(n))==null?void 0:o.params)==null?void 0:i.id)})}," Update Packages ")])])])]),_:1}))}};export{le as default};
