import{n as R,f as P,u as T,A as c,g as U,h as A,w as d,l as D,r as p,o as m,b as e,a as C,j as i,v as u,t as _,p as S,c as M,d as O,C as $,m as q}from"./app-xhtSDAkj.js";const z="/build/assets/stripe-pZvVgyYE.png",F={class:"bg-primary/10 h-auto py-16"},W={class:"flex flex-col lg:flex-row gap-y-6 lg:gap-x-6"},Y={class:"w-full lg:w-2/3"},Z=e("div",{class:"bg-white p-6 lg:p-12 text-center"},[e("h2",{class:"text-xl lg:text-3xl font-bold text-black"}," Information ")],-1),G={class:"bg-white px-6 lg:px-12"},H={class:"flex flex-wrap items-center -mx-5"},J={class:"w-full lg:w-1/2 px-5 mb-7"},K={class:"w-full lg:w-1/2 px-5 mb-7"},Q={class:"w-full lg:w-1/2 px-5 mb-7"},X={class:"w-full lg:w-1/2 px-5 mb-7"},ee=e("div",{class:"bg-white p-6 lg:p-12 text-center"},[e("p",{class:"text-sm lg:text-lg text-primary/55 py-3"}," We like to keep it very simple and charge for only what you actually need for your business. ")],-1),te={class:"w-full lg:w-1/3 bg-white p-6 lg:p-12"},se={class:"border-collapse w-full mb-5"},le=e("thead",null,[e("tr",null,[e("th",{class:"text-left pb-5"},[e("span",{class:"border-b-2 border-primary"},"Package Name")]),e("th",{class:"text-end pb-5"},[e("span",{class:"border-b-2 border-primary"},"Price")])])],-1),ae={class:"text-left"},oe={class:"flex items-center space-x-3"},re=["src"],ne={class:"font-medium text-xs font-serif pr-5"},ce={class:"text-end"},ie={class:"text-base font-serif"},ue={class:"space-y-4 text-gray-600"},de=e("li",{class:"flex items-center"},[e("input",{type:"checkbox",checked:"",disabled:"",class:"w-4 h-4 text-primary border-gray-300 rounded-full focus:ring-primary"}),e("img",{class:"w-auto h-16",src:z,alt:"SSL Logo"})],-1),pe={class:"flex justify-between items-center"},me=e("strong",{class:"text-base font-bold text-gray-500"}," Total Payment: ",-1),_e={class:"text-xl font-bold text-primary"},fe={class:"flex items-center justify-center space-x-2"},ge=e("span",{class:"text-sm"},"Secured Payment",-1),ve={__name:"CheckOut",setup(be){const V=D(),{error:ye,loading:xe,sendRequest:f}=R(),a=P([]),L=V.params.slug,o=T(),j=async()=>{try{const s=await f({method:"get",url:`frontend/v1/get-package-data/${L}`});a.value=(s==null?void 0:s.data)||[]}catch(s){console.error("Error fetching Packages:",s)}},l=P({companey_name:null,cus_name:null,user_id:c(()=>{var s,t;return(t=(s=o==null?void 0:o.user)==null?void 0:s.user)==null?void 0:t.id}),cus_phone:null,cus_email:null,total_payment:c(()=>{var s,t;return((t=(s=a.value)==null?void 0:s.data)==null?void 0:t.price)||null}),package_name:c(()=>{var s,t;return((t=(s=a.value)==null?void 0:s.data)==null?void 0:t.title)||null}),payment_method:"stripe",package_id:c(()=>{var s,t;return((t=(s=a.value)==null?void 0:s.data)==null?void 0:t.id)||null})}),B=async()=>{var s;try{const t=await f({method:"post",url:"/frontend/v1/save-order",data:l.value,headers:{authorization:`Bearer ${(s=o==null?void 0:o.user)==null?void 0:s.token}`}});if(t&&t.data){const{url:n}=t.data;n?window.location.href=n:q.success("Order Added Successfully",{autoclose:1e3})}}catch(t){console.error("Error initiating payment:",t)}};return U(()=>{j()}),(s,t)=>{const n=p("RouterLink"),E=p("Icon"),I=p("AppLayout");return m(),A(I,null,{default:d(()=>[e("section",F,[C($,null,{default:d(()=>{var g,b,y,x,h,v,w,k,N;return[e("div",W,[e("div",Y,[Z,e("div",G,[e("div",H,[e("div",J,[e("div",null,[i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>l.value.companey_name=r),type:"text",placeholder:"Company Name *",class:"w-full border-0 border-b border-gray-400 ring-0 focus:ring-0 outline-0 focus:outline-0 focus:border-primary"},null,512),[[u,l.value.companey_name]])])]),e("div",K,[e("div",null,[i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>l.value.cus_name=r),type:"text",placeholder:"Full Name *",class:"w-full border-0 border-b border-gray-400 ring-0 focus:ring-0 outline-0 focus:outline-0 focus:border-primary"},null,512),[[u,l.value.cus_name]])])]),e("div",Q,[e("div",null,[i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>l.value.cus_email=r),type:"email",placeholder:"Email Address *",class:"w-full border-0 border-b border-gray-400 ring-0 focus:ring-0 outline-0 focus:outline-0 focus:border-primary"},null,512),[[u,l.value.cus_email]])])]),e("div",X,[e("div",null,[i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>l.value.cus_phone=r),type:"number",placeholder:"Contact Number *",class:"w-full border-0 border-b border-gray-400 ring-0 focus:ring-0 outline-0 focus:outline-0 focus:border-primary"},null,512),[[u,l.value.cus_phone]])])])])]),ee]),e("div",te,[e("table",se,[le,e("tbody",null,[e("tr",null,[e("td",ae,[e("div",oe,[e("img",{class:"w-7 h-auto rounded mb-1",src:(b=(g=a.value)==null?void 0:g.data)==null?void 0:b.image,alt:"Product Image"},null,8,re),e("h3",ne,_(((x=(y=a.value)==null?void 0:y.data)==null?void 0:x.title)||"No Title Available"),1)])]),e("td",ce,[e("p",ie," £"+_((v=(h=a.value)==null?void 0:h.data)==null?void 0:v.price),1)])])])]),e("ul",ue,[de,e("li",pe,[me,e("span",_e,"£"+_((k=(w=a.value)==null?void 0:w.data)==null?void 0:k.price),1)]),e("div",null,[(N=S(o))!=null&&N.user?(m(),M("button",{key:0,onClick:B,type:"submit",class:"flex items-center justify-center text-white gap-2 bg-primary hover:bg-secondary w-full text-center text-base py-3 my-5 font-semibold rounded-lg transition-all ease-in-out duration-500"}," Pay Now ")):(m(),A(n,{key:1,to:"/login",type:"submit",class:"flex items-center justify-center text-white gap-2 bg-primary hover:bg-secondary w-full text-center text-base py-3 my-5 font-semibold rounded-lg transition-all ease-in-out duration-500"},{default:d(()=>[O(" Pay Now ")]),_:1})),e("div",fe,[C(E,{name:"ep:lock",class:"text-base text-primary"}),ge])])])])])]}),_:1})])]),_:1})}}};export{ve as default};
