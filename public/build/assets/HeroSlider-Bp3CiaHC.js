import{u as N,r as i,o as O,a as h,b as n,e as c,j as r,w as b,F as C,i as e,k as S,f as A,g as k,h as B,E as u,G as d,H as L,t as p}from"./app-0DwYB4Lr.js";import{_ as D}from"./Modal-Cw_anYlU.js";const F={class:"flex items-center justify-between p-5 bg-white"},$=e("div",null,[e("div",{class:"flex items-center"},[e("h2",{class:"text-xl font-semibold text-primary py-5 px-3"},"Slider")])],-1),E={class:"relative overflow-x-auto bg-white"},H={class:"w-full text-left rtl:text-right"},q=e("thead",{class:"text-black uppercase bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Image "),e("th",{scope:"col",class:"px-6 py-3"}," Title "),e("th",{scope:"col",class:"px-6 py-3"}," Sub Title "),e("th",{scope:"col",class:"px-6 py-3"}," Redirect URL "),e("th",{scope:"col",class:"px-6 py-3"}," Order Level "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),G={class:"border-b border-gray-300 hover:bg-gray-200"},P={class:"p-2"},z=["src"],J={class:"px-6 py-4"},K={class:"px-6 py-4"},Q={class:"px-6 py-4 text-sm"},W={class:"px-6 py-4"},X={class:"px-6 py-4"},Y={class:"flex gap-3"},Z=["onClick"],ee={key:0,class:"w-full h-52 flex items-center justify-center"},te={class:"flex flex-wrap pt-5"},le={class:"w-full mb-4"},se=e("label",{for:"name",class:"mb-2 text-sm font-normal"},"Title",-1),oe={class:"w-full mb-4"},ae=e("label",{for:"name",class:"mb-2 text-sm font-normal"},"Sub Title",-1),ne={class:"w-full mb-4"},ce=e("label",{for:"name",class:"mb-2 text-sm font-normal"},"Redirect URL",-1),ie={class:"w-full mb-4"},re=e("label",{for:"name",class:"mb-2 text-sm font-normal"},"Order Level",-1),ue={class:"w-full mb-4"},de=e("label",{for:"image",class:"text-sm block mb-2"},"Slider Image",-1),pe={for:"cover_image",class:"w-full h-36 flex items-center justify-center gap-3 p-2 border border-dashed border-primary rounded-md text-primary cursor-pointer"},_e=["src"],me={key:1},ve=e("p",{class:"text-xs"},"Upload Product Cover Image",-1),fe=[ve],we={__name:"HeroSlider",setup(he){const{loading:x,error:be,sendRequest:_}=N(),y=i(null),m=async()=>{const a=await _({method:"get",url:"/v1/slider"});a&&(y.value=a.data)},v=i(null),U=a=>{const s=a.target.files[0];l.value.image=s,v.value=URL.createObjectURL(s)},l=i({title:null,sub_title:null,redirect_url:null,image:null,video:null,order_level:null}),R=async()=>{await _({method:"post",url:"/v1/slider",data:l.value,headers:{"Content-Type":"multipart/form-data"}})&&(L.success("Slider Added Successfully",{autoClose:500,theme:"dark"}),await m(),g())},V=async a=>{await _({method:"delete",url:`/v1/slider/${a}`})&&(L.success("Slider Deleted Successfully",{autoClose:500,theme:"dark"}),await m())},j=()=>{l.value.title=null,l.value.sub_title=null,l.value.redirect_url=null,l.value.image=null,l.value.video=null,l.value.order_level=null},f=i(!1);i(!1);const T=()=>{f.value=!0},g=()=>{f.value=!1,j()};return O(()=>{m()}),(a,s)=>{const w=h("Icon"),I=h("LoadingButton"),M=h("AppLayout");return n(),c(C,null,[r(M,null,{default:b(()=>{var o;return[e("div",F,[$,e("button",{onClick:T,class:"flex items-center justify-center gap-2 bg-primary px-3 py-2 text-white text-sm font-medium"},[r(w,{name:"streamline:interface-add-circle-button-remove-cross-add-buttons-plus-circle",class:"text-sm shadow-lg border-primary"}),S(" Add Record ")])]),e("div",E,[e("table",H,[q,e("tbody",null,[(n(!0),c(C,null,A((o=y.value)==null?void 0:o.data,t=>(n(),c("tr",G,[e("td",P,[e("img",{class:"w-20 h-12",src:t==null?void 0:t.image,alt:""},null,8,z)]),e("td",J,p(t==null?void 0:t.title),1),e("td",K,p(t==null?void 0:t.sub_title),1),e("td",Q,p(t!=null&&t.redirect_url?t==null?void 0:t.redirect_url:"Not given"),1),e("td",W,p(t==null?void 0:t.order_level),1),e("td",X,[e("div",Y,[e("button",{onClick:xe=>V(t.id)},[r(w,{name:"material-symbols:delete-outline-rounded",class:"text-red-500 text-2xl"})],8,Z)])])]))),256))])]),k(x)?(n(),c("div",ee,[e("div",null,[r(I,{isLoading:k(x)},{default:b(()=>[S("Loading")]),_:1},8,["isLoading"])])])):B("",!0)])]}),_:1}),r(D,{title:"Create New Slider",isOpen:f.value,onModalClose:g},{default:b(()=>[e("div",te,[e("div",le,[se,u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>l.value.title=o),type:"text",class:"p-2 input"},null,512),[[d,l.value.title]])]),e("div",oe,[ae,u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>l.value.sub_title=o),type:"text",class:"p-2 input"},null,512),[[d,l.value.sub_title]])]),e("div",ne,[ce,u(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>l.value.redirect_url=o),type:"text",class:"p-2 input"},null,512),[[d,l.value.redirect_url]])]),e("div",ie,[re,u(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>l.value.order_level=o),type:"number",class:"p-2 input"},null,512),[[d,l.value.order_level]])]),e("div",ue,[e("div",null,[de,e("label",pe,[e("input",{type:"file",id:"cover_image",hidden:"",onChange:U},null,32),v.value?(n(),c("img",{key:0,src:v.value,class:"w-full h-full object-cover"},null,8,_e)):(n(),c("div",me,fe))])])]),e("div",{class:"w-full"},[e("button",{onClick:R,class:"w-full bg-primary text-white py-2.5"},"Save Slide")])])]),_:1},8,["isOpen"])],64)}}};export{we as default};
